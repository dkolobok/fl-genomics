node_index: ${oc.decode:${oc.env:SLURM_ARRAY_TASK_ID}}
split_dir: /gpfs/gpfs0/ukb_data/fml/british_split/

phenotype:
  name: standing_height
  code: 50

data:
  genotype:
    root: ${split_dir}/genotypes/union/split_${node_index}/topk/${phenotype.name}
    train: ${.root}.train_top1000
    val: ${.root}.val_top1000
  phenotype:
    root: ${split_dir}/only_phenotypes/${phenotype.name}_split_${node_index}
    train: ${.root}_train.tsv
    val: ${.root}_val.tsv
  gwas: ${split_dir}/gwas/split_${node_index}.${phenotype.name}.tsv

model:
  name: linear_regressor
  l1: 0.0
  batch_size: 1024
  optimizer:
    name: adamw
    lr: 1e-2
    weight_decay: 1e-2
  scheduler:
    name: one_cycle_lr
    rounds: 16
    epochs_in_round: 16
    div_factor: 25
    final_div_factor: 1e+4
training:
  gpus:
   - 0
  max_epochs: ${model.scheduler.epochs_in_round}
  enable_progress_bar: False
  enable_model_summary: False
experiment:
  missing: zero
  random_state: ${node_index}
  description: ${model.name} on ${phenotype.name}
  
